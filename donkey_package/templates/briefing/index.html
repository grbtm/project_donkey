{% extends 'base.html' %}

{% block header %}
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('rss_reader.latest') }}">
        Latest
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('rss_reader.add_feed') }}">
        Add feed
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('rss_reader.delete_feed') }}">
        Delete feed
    </a>
</li>
{% endblock %}
{% block title %}Briefing{% endblock %}

{% block content %}
<p></p>
<h1>Your DonkeyBriefing</h1>
{% if items %}
    <p>Your briefing was generated on {{ briefing_date }}</p>
{% else %}
    <p>The donkey has to convey to you that you don't have a briefing yet. Add feeds to your profile and try again later!</p>
{% endif %}

{% for item in items %}
<article class="item">
    <header>
        <div>
            <a target="_blank" rel="noopener noreferrer" href="{{ item['link'] }}"><h3>{{ item['title'] }}</h3></a>
            <div class="about">
                Source: {{ item['feed_title'] }},
                Ref: {{ item['reference'] }}, Score: {{ item['score'] }}
            </div>
        </div>
    </header>
    <p class="body">{{ item['description'] }}</p>
</article>
{% if not loop.last %}
<hr>
{% endif %}
{% endfor %}
{% endblock %}
